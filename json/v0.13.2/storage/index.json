{"id":"storage","metadata":{"name":"Storage","description":null},"methods":[{"metadata":{"constructor":true,"name":"Storage","source":"/lib/storage/index.js#L102","description":"<p>To access your Cloud Storage buckets, you will use the <code>bucket</code> function returned from this <code>storage</code> object.</p><p>The example below will demonstrate the different usage patterns your app may need to connect to <code>gcloud</code> and access your bucket.</p>","examples":[{"code":"var gcloud = require('gcloud');"},{"caption":"<p>From Google Compute Engine and Google App Engine.</p>","code":"// Access `storage` through the `gcloud` module directly.\nvar storage = gcloud.storage();\nvar musicBucket = storage.bucket('music');"},{"caption":"<p>Elsewhere.</p>","code":"// Provide configuration details up-front.\nvar myProject = gcloud({\n  keyFilename: '/path/to/keyfile.json',\n  projectId: 'my-project'\n});\n\n// Use default configuration details.\nvar storage = myProject.storage();\nvar albums = storage.bucket('albums');\nvar photos = storage.bucket('photos');\n\n\n// Override default configuration details.\nvar storage = myProject.storage({\n  keyFilename: '/path/to/another/keyfile.json'\n});\nvar records = storage.bucket('records');"}],"resources":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"constructor":false,"name":"acl","source":"/lib/storage/index.js#L162","description":"<p>Google Cloud Storage uses access control lists (ACLs) to manage object and bucket access. ACLs are the mechanism you use to share objects with other users and allow other users to access your buckets and objects.</p><p>This object provides constants to refer to the three permission levels that can be granted to a scope:</p><ul> <li><code>storage.acl.OWNER_ROLE</code> - (&quot;OWNER&quot;)</li> <li><code>storage.acl.READER_ROLE</code> - (&quot;READER&quot;)</li> <li><code>storage.acl.WRITER_ROLE</code> - (&quot;WRITER&quot;)</li> </ul> <p>For more detailed information, see <a href=\"http://goo.gl/6qBBPO\">About Access Control Lists</a>.</p>","examples":[{"code":"var storage = gcloud.storage();\nvar albums = storage.bucket('albums');"},{"caption":"<p>Make all of the files currently in a bucket publicly readable.</p>","code":"albums.acl.add({\n  scope: 'allUsers',\n  permission: storage.acl.READER_ROLE\n}, function(err, aclObject) {});"},{"caption":"<p>Make any new objects added to a bucket publicly readable.</p>","code":"albums.acl.default.add({\n  scope: 'allUsers',\n  permission: storage.acl.READER_ROLE\n}, function(err, aclObject) {});"},{"caption":"<p>Grant a user ownership permissions to a bucket.</p>","code":"albums.acl.add({\n  scope: 'user-useremail@example.com',\n  permission: storage.acl.OWNER_ROLE\n}, function(err, aclObject) {});"}],"resources":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"constructor":false,"name":"bucket","source":"/lib/storage/index.js#L186","description":"<p>Get a reference to a Google Cloud Storage bucket.</p>","examples":[{"code":"var gcloud = require('gcloud')({\n  keyFilename: '/path/to/keyfile.json'\n});\n\nvar storage = gcloud.storage();\n\nvar albums = storage.bucket('albums');\nvar photos = storage.bucket('photos');"}],"resources":[]},"params":[{"name":"name","description":"<ul> <li>Name of the existing bucket.</li> </ul> ","types":["object","string"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"metadata":{"constructor":false,"name":"createBucket","source":"/lib/storage/index.js#L213","description":"<p>Create a bucket.</p>","examples":[{"code":"storage.createBucket('new-bucket', function(err, bucket) {\n  // `bucket` is a Bucket object.\n});\n\n// Specifying metadata.\nvar metadata = {\n  mainPageSuffix: '/unknown/',\n  maxAgeSeconds: 90\n};\nstorage.createBucket('new-bucket', metadata, function(err, bucket) {\n  // `bucket` is a Bucket object.\n});"}],"resources":[]},"params":[{"name":"name","description":"<ul> <li>Name of the bucket to create.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"metadata","description":"<ul> <li>Metadata to set for the bucket.</li> </ul> ","types":["object"],"optional":true,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false}],"exceptions":[{"type":"Error","description":"<p>If a name is not provided.</p>"}],"returns":[]},{"metadata":{"constructor":false,"name":"getBuckets","source":"/lib/storage/index.js#L271","description":"<p>Get Bucket objects for all of the buckets in your project.</p>","examples":[{"code":"storage.getBuckets(function(err, buckets, nextQuery) {\n  if (nextQuery) {\n    // nextQuery will be non-null if there are more results.\n    storage.getBuckets(nextQuery, function(err, buckets, nextQuery) {});\n  }\n\n  // The `metadata` property is populated for you with the metadata at the\n  // time of fetching.\n  buckets[0].metadata;\n\n  // However, in cases where you are concerned the metadata could have\n  // changed, use the `getMetadata` method.\n  buckets[0].getMetadata(function(err, metadata) {});\n});"},{"caption":"<p>Fetch using a query.</p>","code":"storage.getBuckets({\n  maxResults: 5\n}, function(err, buckets, nextQuery) {});"}],"resources":[]},"params":[{"name":"query","description":"<ul> <li>Query object.</li> </ul> ","types":["object"],"optional":true,"nullable":false},{"name":"query.maxResults","description":"<ul> <li>Maximum number of items plus prefixes to return.</li> </ul> ","types":["number"],"optional":false,"nullable":false},{"name":"query.pageToken","description":"<ul> <li>A previously-returned page token representing part of the larger set of results to view.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]}]}